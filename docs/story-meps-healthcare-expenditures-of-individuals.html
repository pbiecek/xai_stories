<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Story MEPS: Healthcare expenditures of individuals | XAI Stories</title>
  <meta name="description" content="Case studies for eXplainable Artificial Intelligence" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Story MEPS: Healthcare expenditures of individuals | XAI Stories" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/cover.png" />
  <meta property="og:description" content="Case studies for eXplainable Artificial Intelligence" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Story MEPS: Healthcare expenditures of individuals | XAI Stories" />
  
  <meta name="twitter:description" content="Case studies for eXplainable Artificial Intelligence" />
  <meta name="twitter:image" content="images/cover.png" />



<meta name="date" content="2020-04-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="story-meps-regression.html"/>
<link rel="next" href="story-uplift-marketing.html"/>
<script src="libs/header-attrs/header-attrs.js"></script>
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />












<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><h3>XAI Stories</h3> Case studies</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="foreword.html"><a href="foreword.html"><i class="fa fa-check"></i>Foreword</a>
<ul>
<li class="chapter" data-level="0.1" data-path="foreword.html"><a href="foreword.html#why"><i class="fa fa-check"></i><b>0.1</b> Why?</a></li>
<li class="chapter" data-level="0.2" data-path="foreword.html"><a href="foreword.html#what"><i class="fa fa-check"></i><b>0.2</b> What?</a></li>
<li class="chapter" data-level="0.3" data-path="foreword.html"><a href="foreword.html#how"><i class="fa fa-check"></i><b>0.3</b> How?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="story-house-sale-prices.html"><a href="story-house-sale-prices.html"><i class="fa fa-check"></i><b>1</b> Story House Sale Prices: eXplainable predictions for house sale</a>
<ul>
<li class="chapter" data-level="1.1" data-path="story-house-sale-prices.html"><a href="story-house-sale-prices.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a></li>
<li class="chapter" data-level="1.2" data-path="story-house-sale-prices.html"><a href="story-house-sale-prices.html#model"><i class="fa fa-check"></i><b>1.2</b> Model</a></li>
<li class="chapter" data-level="1.3" data-path="story-house-sale-prices.html"><a href="story-house-sale-prices.html#explanations"><i class="fa fa-check"></i><b>1.3</b> Explanations</a></li>
<li class="chapter" data-level="1.4" data-path="story-house-sale-prices.html"><a href="story-house-sale-prices.html#summary-and-conclusions"><i class="fa fa-check"></i><b>1.4</b> Summary and conclusions</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="story-hotel-booking.html"><a href="story-hotel-booking.html"><i class="fa fa-check"></i><b>2</b> Story hotel booking: eXplainable predictions of booking cancelation and guests coming back</a>
<ul>
<li class="chapter" data-level="2.1" data-path="story-hotel-booking.html"><a href="story-hotel-booking.html#introduction-1"><i class="fa fa-check"></i><b>2.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="story-hotel-booking.html"><a href="story-hotel-booking.html#hyperparameter-optimization"><i class="fa fa-check"></i><b>2.1.1</b> Hyperparameter optimization</a></li>
<li class="chapter" data-level="2.1.2" data-path="story-hotel-booking.html"><a href="story-hotel-booking.html#imbalanced-dataset"><i class="fa fa-check"></i><b>2.1.2</b> Imbalanced dataset</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="story-hotel-booking.html"><a href="story-hotel-booking.html#model-1"><i class="fa fa-check"></i><b>2.2</b> Model</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="story-hotel-booking.html"><a href="story-hotel-booking.html#model-1.-booking-cancelation"><i class="fa fa-check"></i><b>2.2.1</b> Model 1. Booking cancelation</a></li>
<li class="chapter" data-level="2.2.2" data-path="story-hotel-booking.html"><a href="story-hotel-booking.html#model-2.-repeated-guests"><i class="fa fa-check"></i><b>2.2.2</b> Model 2. Repeated guests</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="story-hotel-booking.html"><a href="story-hotel-booking.html#explanations-1"><i class="fa fa-check"></i><b>2.3</b> Explanations</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="story-hotel-booking.html"><a href="story-hotel-booking.html#model-1.-booking-cancelation-1"><i class="fa fa-check"></i><b>2.3.1</b> Model 1. Booking cancelation</a></li>
<li class="chapter" data-level="2.3.2" data-path="story-hotel-booking.html"><a href="story-hotel-booking.html#model-2.-repeated-guests-1"><i class="fa fa-check"></i><b>2.3.2</b> Model 2. Repeated guests</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="story-hotel-booking.html"><a href="story-hotel-booking.html#summary-and-conclusions-1"><i class="fa fa-check"></i><b>2.4</b> Summary and conclusions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="story-uplift-modelling.html"><a href="story-uplift-modelling.html"><i class="fa fa-check"></i><b>3</b> Story Uplift Modelling: eXplaining colon cancer survival rate after treatment</a>
<ul>
<li class="chapter" data-level="3.1" data-path="story-uplift-modelling.html"><a href="story-uplift-modelling.html#introduction-2"><i class="fa fa-check"></i><b>3.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="story-uplift-modelling.html"><a href="story-uplift-modelling.html#what-is-uplift-modelling"><i class="fa fa-check"></i><b>3.1.1</b> What is Uplift Modelling?</a></li>
<li class="chapter" data-level="3.1.2" data-path="story-uplift-modelling.html"><a href="story-uplift-modelling.html#dataset-description"><i class="fa fa-check"></i><b>3.1.2</b> Dataset Description</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="story-uplift-modelling.html"><a href="story-uplift-modelling.html#model-2"><i class="fa fa-check"></i><b>3.2</b> Model</a></li>
<li class="chapter" data-level="3.3" data-path="story-uplift-modelling.html"><a href="story-uplift-modelling.html#explanations-2"><i class="fa fa-check"></i><b>3.3</b> Explanations</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="story-uplift-modelling.html"><a href="story-uplift-modelling.html#dataset-level-explainations"><i class="fa fa-check"></i><b>3.3.1</b> Dataset Level Explainations</a></li>
<li class="chapter" data-level="3.3.2" data-path="story-uplift-modelling.html"><a href="story-uplift-modelling.html#instance-level-explainations"><i class="fa fa-check"></i><b>3.3.2</b> Instance Level Explainations</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="story-uplift-modelling.html"><a href="story-uplift-modelling.html#summary-and-conclusions-2"><i class="fa fa-check"></i><b>3.4</b> Summary and conclusions</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="story-meps-regression.html"><a href="story-meps-regression.html"><i class="fa fa-check"></i><b>4</b> Story Meps: regression</a>
<ul>
<li class="chapter" data-level="4.1" data-path="story-meps-regression.html"><a href="story-meps-regression.html#introduction-3"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="story-meps-regression.html"><a href="story-meps-regression.html#model-3"><i class="fa fa-check"></i><b>4.2</b> Model</a></li>
<li class="chapter" data-level="4.3" data-path="story-meps-regression.html"><a href="story-meps-regression.html#explanations-3"><i class="fa fa-check"></i><b>4.3</b> Explanations</a></li>
<li class="chapter" data-level="4.4" data-path="story-meps-regression.html"><a href="story-meps-regression.html#summary-and-conclusions-3"><i class="fa fa-check"></i><b>4.4</b> Summary and conclusions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="story-meps-healthcare-expenditures-of-individuals.html"><a href="story-meps-healthcare-expenditures-of-individuals.html"><i class="fa fa-check"></i><b>5</b> Story MEPS: Healthcare expenditures of individuals</a>
<ul>
<li class="chapter" data-level="5.1" data-path="story-meps-healthcare-expenditures-of-individuals.html"><a href="story-meps-healthcare-expenditures-of-individuals.html#introduction-4"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="story-meps-healthcare-expenditures-of-individuals.html"><a href="story-meps-healthcare-expenditures-of-individuals.html#models"><i class="fa fa-check"></i><b>5.2</b> Models</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="story-meps-healthcare-expenditures-of-individuals.html"><a href="story-meps-healthcare-expenditures-of-individuals.html#model-1-linear"><i class="fa fa-check"></i><b>5.2.1</b> Model 1: Linear</a></li>
<li class="chapter" data-level="5.2.2" data-path="story-meps-healthcare-expenditures-of-individuals.html"><a href="story-meps-healthcare-expenditures-of-individuals.html#model-2-ann"><i class="fa fa-check"></i><b>5.2.2</b> Model 2: ANN</a></li>
<li class="chapter" data-level="5.2.3" data-path="story-meps-healthcare-expenditures-of-individuals.html"><a href="story-meps-healthcare-expenditures-of-individuals.html#model-3-xgb"><i class="fa fa-check"></i><b>5.2.3</b> Model 3: XGB</a></li>
<li class="chapter" data-level="5.2.4" data-path="story-meps-healthcare-expenditures-of-individuals.html"><a href="story-meps-healthcare-expenditures-of-individuals.html#working-refs"><i class="fa fa-check"></i><b>5.2.4</b> Working refs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="story-uplift-marketing.html"><a href="story-uplift-marketing.html"><i class="fa fa-check"></i><b>6</b> Story Uplift modeling on marketing dataset: eXplainable predictions for optimized marketing campaigns</a>
<ul>
<li class="chapter" data-level="6.1" data-path="story-uplift-marketing.html"><a href="story-uplift-marketing.html#introduction-5"><i class="fa fa-check"></i><b>6.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="story-uplift-marketing.html"><a href="story-uplift-marketing.html#approaches-towards-uplift-modelling"><i class="fa fa-check"></i><b>6.1.1</b> Approaches towards uplift modelling</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="story-uplift-marketing.html"><a href="story-uplift-marketing.html#dataset-1"><i class="fa fa-check"></i><b>6.2</b> Dataset</a></li>
<li class="chapter" data-level="6.3" data-path="story-uplift-marketing.html"><a href="story-uplift-marketing.html#model-4"><i class="fa fa-check"></i><b>6.3</b> Model</a></li>
<li class="chapter" data-level="6.4" data-path="story-uplift-marketing.html"><a href="story-uplift-marketing.html#explanations-4"><i class="fa fa-check"></i><b>6.4</b> Explanations</a></li>
<li class="chapter" data-level="6.5" data-path="story-uplift-marketing.html"><a href="story-uplift-marketing.html#summary-and-conclusions-4"><i class="fa fa-check"></i><b>6.5</b> Summary and conclusions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="examples.html"><a href="examples.html"><i class="fa fa-check"></i>Examples</a></li>
<li class="chapter" data-level="7" data-path="story-covid19.html"><a href="story-covid19.html"><i class="fa fa-check"></i><b>7</b> Story covid19: eXplainable predictions for mortality</a>
<ul>
<li class="chapter" data-level="7.1" data-path="story-covid19.html"><a href="story-covid19.html#figures-and-citations"><i class="fa fa-check"></i><b>7.1</b> Figures and citations</a></li>
<li class="chapter" data-level="7.2" data-path="story-covid19.html"><a href="story-covid19.html#introduction-6"><i class="fa fa-check"></i><b>7.2</b> Introduction</a></li>
<li class="chapter" data-level="7.3" data-path="story-covid19.html"><a href="story-covid19.html#model-5"><i class="fa fa-check"></i><b>7.3</b> Model</a></li>
<li class="chapter" data-level="7.4" data-path="story-covid19.html"><a href="story-covid19.html#explanations-5"><i class="fa fa-check"></i><b>7.4</b> Explanations</a></li>
<li class="chapter" data-level="7.5" data-path="story-covid19.html"><a href="story-covid19.html#summary-and-conclusions-5"><i class="fa fa-check"></i><b>7.5</b> Summary and conclusions</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="story-lungs.html"><a href="story-lungs.html"><i class="fa fa-check"></i><b>8</b> Story lungs: eXplainable predictions for post operational risks</a>
<ul>
<li class="chapter" data-level="8.1" data-path="story-lungs.html"><a href="story-lungs.html#introduction-7"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="story-lungs.html"><a href="story-lungs.html#model-6"><i class="fa fa-check"></i><b>8.2</b> Model</a></li>
<li class="chapter" data-level="8.3" data-path="story-lungs.html"><a href="story-lungs.html#explanations-6"><i class="fa fa-check"></i><b>8.3</b> Explanations</a></li>
<li class="chapter" data-level="8.4" data-path="story-lungs.html"><a href="story-lungs.html#summary-and-conclusions-6"><i class="fa fa-check"></i><b>8.4</b> Summary and conclusions</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="story-compas.html"><a href="story-compas.html"><i class="fa fa-check"></i><b>9</b> Story COMPAS: recidivism reloaded</a>
<ul>
<li class="chapter" data-level="9.1" data-path="story-compas.html"><a href="story-compas.html#introduction-8"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="story-compas.html"><a href="story-compas.html#model-7"><i class="fa fa-check"></i><b>9.2</b> Model</a></li>
<li class="chapter" data-level="9.3" data-path="story-compas.html"><a href="story-compas.html#explanations-7"><i class="fa fa-check"></i><b>9.3</b> Explanations</a></li>
<li class="chapter" data-level="9.4" data-path="story-compas.html"><a href="story-compas.html#summary-and-conclusions-7"><i class="fa fa-check"></i><b>9.4</b> Summary and conclusions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">XAI Stories</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="story-meps-healthcare-expenditures-of-individuals" class="section level1" number="5">
<h1><span class="header-section-number">Chapter 5</span> Story MEPS: Healthcare expenditures of individuals</h1>
<div id="introduction-4" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Introduction</h2>
<div style="text-align: justify">
<p>In this part, models that predict annual healthcare expenditure of individuals will be developed and analyzed using XAI methods.</p>
<p>The dataset used is called MEPS (Medical Expenditure Panel Survey) and it is freely accessible at [ref1]. The data comes from large-scale surveys of families, individuals, medical providers and employers from the United States of America. Each observation of the data set contains total expenditures of an individual as well as number of other variables describing his or her demographic and socio-economic status. This allows to create models predicting the expenditure based on other factors. For this reason it is particularly interesting from the point of view of the subject that is financially responsible for the healthcare cost – insurance company, government, healthcare provider or individuals. It is important to mention, that for all of these subjects, accurate model is only a part of the success – the other part are the relations between input parameters and predictions of the model. Having that we can provide an answer not only for how much? but also for why? Hopefully, this can be achieved with available XAI methods.</p>
<p>The data analyzed in the following sections was not downloaded directly from MEPS website. Instead, it was obtained through IBM’s AIX360 [ref2]. Therefore it is initially preprocessed – race is restricted to black and white and ethnicity to non-Hispanic, records with special values (negative integers) are removed for some of the variables, variables are initially selected. The dataset provides 18350 observations and it contains variables that describe:</p>
<ul>
<li><p>demographics (age, gender, marital status),</p></li>
<li><p>socio-economics (education, income, insurance coverage),</p></li>
<li><p>self-reported health status (self-evaluation of physical and mental health status),</p></li>
<li><p>diagnoses (stroke, cancer, heart disease, diabetes),</p></li>
<li><p>health limitations (cognitive, activity, sensory).</p></li>
</ul>
<p>Since the distribution of the predicted variable is strongly skewed to the right, it was transformed with logarithm base 3. Typically in such cases, natural logarithm is chosen, but having in mind that impact of input variables on the prediction will be analyzed, the decision was made to use base 3 instead (when we see that some input variable affected the prediction increasing it by one, then we can say that it increased the total expenditures by the factor of three, not factor of Euler number).</p>
<p>The following section describes the development of three different models for predicting the transformed total health expenditure of an individual. Once developed, these models are compared in terms of their quality and of them is selected and analyzed using XAI methods. Explanations provided by different methods are discussed.</p>
<p>The baseline for this discussion was provided by the authors of IBM’s AIX360 [ref3].</p>
</div>
</div>
<div id="models" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Models</h2>
<div id="model-1-linear" class="section level3" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Model 1: Linear</h3>
</div>
<div id="model-2-ann" class="section level3" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Model 2: ANN</h3>
</div>
<div id="model-3-xgb" class="section level3" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> Model 3: XGB</h3>
</div>
<div id="working-refs" class="section level3" number="5.2.4">
<h3><span class="header-section-number">5.2.4</span> Working refs</h3>
<p>[ref1] <a href="https://www.meps.ahrq.gov/mepsweb/" class="uri">https://www.meps.ahrq.gov/mepsweb/</a>
[ref2] <a href="https://github.com/IBM/AIX360" class="uri">https://github.com/IBM/AIX360</a>
[ref3] <a href="https://nbviewer.jupyter.org/github/IBM/AIX360/blob/master/examples/tutorials/MEPS.ipynb#data" class="uri">https://nbviewer.jupyter.org/github/IBM/AIX360/blob/master/examples/tutorials/MEPS.ipynb#data</a></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="story-meps-regression.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="story-uplift-marketing.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/compstat-lmu/iml_methods_limitations/edit/master/06-story-Medical-Expenditure-Panel-Survey.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["book.pdf", "book.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
